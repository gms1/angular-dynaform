#!/bin/bash

DN=$(dirname "$0")
BN=$(basename "$0")

PROJ_HOME=$(cd "${DN}/.."; pwd)
BUILD_SH_HOME="${PROJ_HOME}/build/sh"

. "${DN}/sh/lib.sh"

#---------------------------------------------------------

PKGNAMES=(
  @angular-dynaform/core
  @angular-dynaform/basic
  @angular-dynaform/material
  @angular-dynaform/nativescript
)

#---------------------------------------------------------
if [ $# -ne 0 ]; then
  errormsg "${BN}: usage error: usage: ${BN}"
  exit 1
fi

pushd "${PROJ_HOME}" &>/dev/null        || die "failed to cwd '${PROJ_HOME}'"

  for pkgName in "${PKGNAMES[@]}"; do
    ${BUILD_SH_HOME}/tsrun publish-prepare.ts "${pkgName}"
  done

popd &>/dev/null
